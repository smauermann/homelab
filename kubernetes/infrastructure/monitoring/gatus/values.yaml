podSecurityContext:
  fsGroup: 65534

securityContext:
  runAsNonRoot: true
  runAsUser: 65534
  runAsGroup: 65534
  readOnlyRootFilesystem: true

service:
  type: ClusterIP
  port: 80
  targetPort: 8080
  annotations: {}
  labels: {}

ingress:
  enabled: true
  ingressClassName: cilium
  path: /
  pathType: Prefix
  hosts:
    - status.costanza.cloud
  tls:
   - secretName: gatus-tls
     hosts:
       - status.costanza.cloud
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod
    gethomepage.dev/description: Status Page
    gethomepage.dev/enabled: "true"
    gethomepage.dev/group: Monitoring
    gethomepage.dev/icon: gatus.png
    gethomepage.dev/name: Gatus

resources:
  limits:
    memory: 128Mi
  requests:
    cpu: 50m
    memory: 16Mi

persistence:
  enabled: true
  size: 500Mi
  mountPath: /data
  storageClassName: longhorn

serviceMonitor:
  enabled: false
  interval: 1m
  path: /metrics
  scheme: http
  scrapeTimeout: 30s

# Gatus configuration
# ref: https://github.com/TwiN/gatus#configuration
config:
  storage:
    type: sqlite
    path: /data/data.db
  endpoints:
    - name: Adguard
      url: https://adguard.costanza.cloud
      interval: 60s
      conditions:
        - "[STATUS] == 200"
    - name: Jellyfin
      url: https://jellyfin.costanza.cloud
      interval: 60s
      conditions:
        - "[STATUS] == 200"
